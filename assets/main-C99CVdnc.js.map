{"version":3,"mappings":"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","names":["loadPartial","path","html","wrapper","header","footer","_a","burger","toggleBurgerMenu","__vitePreload","closeBtn","closeBurgerMenu","navLinks","link","e","href","targetId","targetSection","headerHeight","sectionTop","_b","sections","id","container","section","companyContainer","btn","accordion","hero","entries","entry","accordionTop","agronomySection","agronomyTop","initAgroAccordion","item","panel","isOpen","b","p"],"ignoreList":[],"sources":["../../src/js/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', async () => {\n  async function loadPartial(path) {\n    const res = await fetch(path);\n    const html = await res.text();\n    const wrapper = document.createElement('div');\n    wrapper.innerHTML = html;\n    return wrapper.children[0] || wrapper;\n  }\n\n\n  const header = await loadPartial('partials/header.html');\n  const footer = await loadPartial('partials/footer.html');\n\n  document.getElementById('header')?.appendChild(header);\n  // Підʼєднуємо burger menu тільки після вставки header в DOM\n  const burger = header.querySelector('.burger');\n  if (burger) {\n    const { toggleBurgerMenu } = await import('./refs.js');\n    burger.addEventListener('click', toggleBurgerMenu);\n  }\n  const closeBtn = header.querySelector('.nav-close');\nif (closeBtn) {\n  const { closeBurgerMenu } = await import('./refs.js');\n  \n  console.log('✅ Close button знайдено, додаємо обробник');\n  \n  closeBtn.addEventListener('click', (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    closeBurgerMenu();\n  });\n}\n\n// Додаємо закриття меню при кліку на навігаційні посилання\nconst navLinks = header.querySelectorAll('.nav-item a');\nif (navLinks.length > 0) {\n  const { closeBurgerMenu } = await import('./refs.js');\n  \n  console.log('✅ Навігаційні посилання знайдено, додаємо обробники закриття');\n  \n  navLinks.forEach(link => {\n    link.addEventListener('click', (e) => {\n      e.preventDefault();\n      closeBurgerMenu();\n      \n      // Отримуємо href посилання\n      const href = link.getAttribute('href');\n      if (href && href.startsWith('#')) {\n        const targetId = href.substring(1);\n        const targetSection = document.getElementById(targetId);\n        \n        if (targetSection) {\n          // Отримуємо висоту хедера\n          const headerHeight = document.querySelector('header')?.offsetHeight || 0;\n          // Отримуємо позицію секції\n          const sectionTop = targetSection.offsetTop;\n          // Прокручуємо з відступом від хедера\n          window.scrollTo({\n            top: sectionTop - headerHeight - 20, // 20px додатковий відступ\n            behavior: 'smooth'\n          });\n        }\n      }\n    });\n  });\n}\n\n  document.getElementById('footer')?.appendChild(footer);\n  \n  const sections = {\n    company: 'partials/company.html',\n    agronomy: 'partials/agronomy.html',\n    precision: 'partials/precision.html',\n    education: 'partials/education.html',\n    feedback: 'partials/feedback.html',\n    'agronomy-details': 'partials/agronomy-details-content.html'\n  };\n\n  for (const [id, path] of Object.entries(sections)) {\n    const container = document.getElementById(id);\n    if (container) {\n      const section = await loadPartial(path);\n      if (!section) {\n        // console.warn(`⚠️ Не вдалося створити DOM з паршалу: ${id}`);\n      } else {\n        // console.log(`✅ Вставляємо секцію ${id}`);\n      }\n      container.appendChild(section);\n\n      // Акордеон для компанії\n      if (id === 'company') {\n        // Шукаємо тільки в межах контейнера company\n        const companyContainer = container;\n        const btn = companyContainer.querySelector('.btn-link');\n        const accordion = companyContainer.querySelector('#companyAccordion');\n        const closeBtn = accordion?.querySelector('.accordion-close');\n        const hero = companyContainer.querySelector('.hero');\n\n        // Intersection Observer для кнопки\n        if (accordion && closeBtn) {\n          const observer = new window.IntersectionObserver(\n            (entries) => {\n              entries.forEach(entry => {\n                if (entry.isIntersecting && entry.intersectionRatio > 0.2) {\n                  closeBtn.classList.remove('is-hidden');\n                } else {\n                  closeBtn.classList.add('is-hidden');\n                }\n              });\n            },\n            {\n              threshold: [0, 0.2, 1]\n            }\n          );\n          observer.observe(accordion);\n        }\n\n        if (btn && accordion && closeBtn) {\n          btn.addEventListener('click', (e) => {\n            e.preventDefault();\n            btn.style.opacity = '0';\n            btn.style.pointerEvents = 'none';\n            accordion.hidden = false;\n            requestAnimationFrame(() => {\n              accordion.classList.add('open');\n            });\n            closeBtn.style.display = 'flex';\n            hero?.classList.add('open');\n\n            setTimeout(() => {\n              // Отримуємо висоту хедера\n              const headerHeight = document.querySelector('header')?.offsetHeight || 0;\n              // Отримуємо позицію акордеону\n              const accordionTop = accordion.offsetTop;\n              // Прокручуємо з відступом від хедера\n              window.scrollTo({\n                top: accordionTop - headerHeight - 20, // 20px додатковий відступ\n                behavior: 'smooth'\n              });\n            }, 400);\n          });\n\n          closeBtn.addEventListener('click', () => {\n            accordion.classList.remove('open');\n            btn.style.opacity = '1';\n            btn.style.pointerEvents = 'auto';\n            closeBtn.style.display = 'none';\n            hero?.classList.remove('open');\n\n            setTimeout(() => {\n              accordion.hidden = true;\n              // Прокручуємо до секції \"Агрономія\"\n              const agronomySection = document.getElementById('agronomy');\n              if (agronomySection) {\n                const headerHeight = document.querySelector('header')?.offsetHeight || 0;\n                const agronomyTop = agronomySection.offsetTop;\n                window.scrollTo({\n                  top: agronomyTop - headerHeight - 20,\n                  behavior: 'smooth'\n                });\n              }\n            }, 600); // Чекаємо завершення анімації max-height\n          });\n        }\n      }\n    }\n  }\n\n  // Agro-accordion logic\n  function initAgroAccordion() {\n    const items = document.querySelectorAll('.agro-acc-item');\n    items.forEach(item => {\n      const btn = item.querySelector('.agro-acc-btn');\n      const panel = item.querySelector('.agro-acc-panel');\n      btn.setAttribute('aria-expanded', 'false');\n      btn.addEventListener('click', () => {\n        const isOpen = btn.getAttribute('aria-expanded') === 'true';\n        // Закриваємо всі\n        document.querySelectorAll('.agro-acc-btn').forEach(b => b.setAttribute('aria-expanded', 'false'));\n        document.querySelectorAll('.agro-acc-panel').forEach(p => p.classList.remove('open'));\n        // Відкриваємо поточний, якщо був закритий\n        if (!isOpen) {\n          btn.setAttribute('aria-expanded', 'true');\n          panel.classList.add('open');\n        }\n      });\n    });\n  }\n\n  // Викликаємо акордеон після DOMContentLoaded\n  if (document.querySelector('.agro-accordion')) {\n    initAgroAccordion();\n  }\n});"],"file":"assets/main-C99CVdnc.js"}